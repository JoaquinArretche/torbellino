<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>TORBELLINO</title>

        <!-- CSS principal -->
        <link rel="stylesheet" href="style.css">

        <!-- Favicon con gradiente azul → rosado -->
        <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
    </head>
<body>


    <section id="hero">
        <div class="center elements">
            <div>
                <img src="./img/iedlogo.png" alt="IED">
                <img src="./img/miralogo.png" alt="MIRA">
            </div>
            <div>
                <h1>TORBELLINO</h1>
            </div>
            <div>
                <p>7-8 NOV</p>
                <span class="btn">
                    <a href="https://mirafestival.com/tickets/" target="_blank" rel="noopener noreferrer">BUY TICKETS</a>
                </span>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="center">
            <h2>FEEL <br>
                THE  <br>
                AIR  </h2>
            <p>How can we move beyond the reduction of the forces of our natural world to the mechanical binary of ones and zeros? </p>
            <p>How might we honor their complexity with a return to something more human?</p>
        </div>
    </section>

    <section id="video">
        <video autoplay muted loop playsinline id="bg-video">
            <source src="./img/Miravideo.mp4" type="video/mp4">
            Tu navegador no soporta el formato de video.
          </video>
    </section>

    <section id="about">
        <div class="center">
            <h2>IN <br>
                TER  <br>
                ACT
            </h2>
            <p>An interactive installation and visual spectacle, TORBELLINO invites participants into a sensory space where the invisible becomes perceptible.</p>
            <p>Through fabric, airflow, and interactive light, the work makes unseen energies tangible. </p>
        </div>
    </section>

    <section id="gallery">
        <div class="line">
            <div class="img1"></div>
            <div class="block"></div>
        </div>
        <div class="line">
            <div class="block"></div>
            <div class="img3"></div>
        </div>
        <div class="line">
            <div class="img2"></div>
            <div class="block">
                <span class="btn">
                    <a href="img/PR_IED TORBELLINO.pdf" download="Torbellino_Press_Release.pdf">PRESS RELEASE</a>
                </span>
            </div>
        </div>
    </section>

    <section id="about2">
        <div class="center" id="last">
            <h2>THIS ENCOUNTER<br>
                RAISES  <br>
                QUESTIONS</h2>
            <p>How can we move beyond the reduction of the forces of our natural world to the mechanical binary of ones and zeros? </p>
            <p>How might we honor their complexity with a return to something more human?</p>
        </div>
    </section>

<section>
  <div class="slider" id="team-slider">
    <div class="slide-track">
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/azadjamagocyan" class="item-link"><img src="img/Class/Azad.webp" alt="Azad Jamagocyan"><p>Azad Jamagocyan</p><p>Project Manager</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/leen-naser-737687253" class="item-link"><img src="img/Class/Leen.webp" alt="Leen Naser"><p>Leen Naser</p><p>Technical Production Lead</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/samuel-tsch/" class="item-link"><img src="img/Class/Sam.webp" alt="Samuel Tschümperlin"><p>Samuel Tschümperlin</p><p>Experiene & Production Lead</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/pola-dobrzynski/" class="item-link"><img src="img/Class/Pola.webp" alt="Pola Pucheta"><p>Pola Pucheta</p><p>Communication Lead</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/j-arretche" class="item-link"><img src="img/Class/Joaquin.webp" alt="Joaquín Arretche"><p>Joaquín Arretche</p><p>Web & Production</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/qianyin-xia-55a6851a7" class="item-link"><img src="img/Class/Xia.webp" alt="Xia Qianyin"><p>Xia Qianyin</p><p>Production</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/hala-auf" class="item-link"><img src="img/Class/Hala.webp" alt="Hala Auf"><p>Hala Auf</p><p>Visual Communication</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/natalia-macias-a35b841b5" class="item-link"><img src="img/Class/Natalia.webp" alt="Natalia Macias"><p>Natalia Macias</p><p>Photo & Video Documentation</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/semeli-tisarchontou" class="item-link"><img src="img/Class/Semeli.webp" alt="Semeli Tisarchontou"><p>Semeli Tisarchontou</p><p>Visual Experience</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/valentinabassanello" class="item-link"><img src="img/Class/Valentina.webp" alt="Valentina Bassanello"><p>Valentina Bassanello</p><p>Visual Experience</p></a></div>
      <div class="item"><a target="_blank" href="https://www.linkedin.com/in/pearllbe" class="item-link"><img src="img/Class/Pearl.webp" alt="Pearl Jain"><p>Pearl Jain</p><p>Print Production</p></a></div>
    </div>
  </div>
  <script>
(function(){
  const slider = document.getElementById('team-slider');
  const track  = slider.querySelector('.slide-track');
  if (!slider || !track || slider.dataset.infOnce === '1') return;
  slider.dataset.infOnce = '1';

  const BASE_SPEED = 0.5;     // px/frame on mobile
  const DESK_MULT  = 1.8;     // desktop speed multiplier
  const IDLE_MS    = 250;    // resume after Xs idle

  const isMobile = () => matchMedia('(max-width:600px)').matches;
  const isHoverDevice = () => matchMedia('(hover: hover) and (pointer: fine)').matches;

  // Build fixed L | M | R once (no DOM growth)
  const originals = Array.from(track.children);
  while (track.firstChild) track.removeChild(track.firstChild);
  const left  = originals.map(n=>n.cloneNode(true));
  const right = originals.map(n=>n.cloneNode(true));
  track.append(...originals);
  track.prepend(...left);
  track.append(...right);

  const setW     = () => track.scrollWidth / 3;
  const midStart = () => setW();
  const midEnd   = () => setW() * 2;

  let paused = false;
  let raf    = 0;
  let idleT;
  let internalScrollDepth = 0;   // guard to ignore our own scrolls

  waitForLayout(init);

  function waitForLayout(cb){
    let tries = 0;
    (function check(){
      const ready = track.scrollWidth > slider.clientWidth + 1;
      if (ready || tries > 300) cb();
      else { tries++; requestAnimationFrame(check); }
    })();
  }

  function init(){
    setScroll(midStart());   // internal, won’t trigger pause
    startLoop();
    wire();
  }

  function loop(){
    if (!paused){
      const speed = (isHoverDevice() && !isMobile()) ? BASE_SPEED * DESK_MULT : BASE_SPEED;
      setScroll(slider.scrollLeft + speed);

      const x = slider.scrollLeft;
      if (x >= midEnd() - 2){
        setScroll(x - setW());          // seamless wrap
      } else if (x <= midStart() + 2){
        setScroll(x + setW());
      }
    }
    raf = requestAnimationFrame(loop);
  }
  function startLoop(){ cancelAnimationFrame(raf); raf = requestAnimationFrame(loop); }

  // Set scrollLeft while marking it as internal
  function setScroll(x){
    internalScrollDepth++;
    slider.scrollLeft = x;
    // clear guard next frame when browser has fired 'scroll'
    requestAnimationFrame(()=>{ internalScrollDepth = Math.max(0, internalScrollDepth-1); });
  }

  function pause(){ paused = true; clearTimeout(idleT); }
  function resumeLater(){ clearTimeout(idleT); idleT = setTimeout(()=> paused = false, IDLE_MS); }

  function wire(){
    // Desktop hover pause/resume
    if (isHoverDevice()){
      slider.addEventListener('pointerenter', pause,       {passive:true});
      slider.addEventListener('pointerleave',  resumeLater,{passive:true});
    }

    // Pause on explicit interaction both platforms
    ['pointerdown','touchstart','wheel','keydown','focusin'].forEach(ev=>{
      slider.addEventListener(ev, pause, {passive:true});
    });
    ['pointerup','touchend','focusout'].forEach(ev=>{
      slider.addEventListener(ev, resumeLater, {passive:true});
    });

    // Manual scroll → pause now, resume after idle
    let t;
    slider.addEventListener('scroll', ()=>{
      if (internalScrollDepth > 0) return;  // ignore our own scrolls
      pause();
      clearTimeout(t);
      t = setTimeout(resumeLater, 120);
    }, {passive:true});

    // Keep continuity on resize
    new ResizeObserver(()=>{
      const rel = (slider.scrollLeft - midStart()) % setW();
      setScroll(midStart() + (rel < 0 ? rel + setW() : rel));
    }).observe(track);
  }
})();
</script>


</section>

    <section id="banner">
        <div class="center2">
            <p>Torbellino</p>
            <h3>7-8</h3>
            <h3>NOV</h3>
            <div>
                <p>MIRA FESTIVAL</p>
                <p>FIRA MONTJUIC</p>
            </div>
            <div>
                <span class="btn">
                    <a href="https://mirafestival.com/tickets/" target="_blank" rel="noopener noreferrer">BUY TICKETS</a>
                </span>
            </div>
        </div>
    </section>



    <footer>
        <div class="center">
            <p>TORBELLINO</p>
            <div>
                <a href="https://www.ied.es/barcelona?_gl=1*1lri2wo*_up*MQ..*_gs*MQ..&gclid=CjwKCAjwu9fHBhAWEiwAzGRC_5BYBfoXYN8ZEDKbyAI1vAGg-sJZeCPtSyjMrC5ZGiD9TfWND0B2wRoCxUkQAvD_BwE&gbraid=0AAAAADt5rGWAh2oFBTw20KqNMx_yRGKFC" target="_blank" rel="noopener noreferrer">
                    <img src="./img/iedlogo.png" alt="IED">
                </a>


                <a href="https://www.instagram.com/torbellino.xhbt/" target="_blank" rel="noopener noreferrer">
                    <img src="./img/instagram-white-icon.webp" alt="Instagram">
                </a>

                <a href="https://mirafestival.com/" target="_blank" rel="noopener noreferrer">
                    <img src="./img/miralogo.png" alt="MIRA">
                </a>

            </div>
        </div>
    </footer>
</body>
</html>
